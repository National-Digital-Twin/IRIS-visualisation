<div *ngIf="theme$ | async as theme" class="map-controls-container">
  <div class="map-controls">
    <button mat-icon-button class="map-button" (click)="resetMapView.emit()">
      <img
        [src]="
          theme === 'light'
            ? 'assets/icons/NavigationArrow.svg'
            : 'assets/icons/NavigationArrow_white.svg'
        "
        alt="reset map view" />
    </button>
    <button class="map-button" mat-icon-button (click)="zoomIn.emit()">
      <img
        [src]="
          theme === 'light'
            ? 'assets/icons/Plus.svg'
            : 'assets/icons/Plus_white.svg'
        "
        alt="zoom in" />
    </button>
    <button class="map-button" mat-icon-button (click)="zoomOut.emit()">
      <img
        [src]="
          theme === 'light'
            ? 'assets/icons/Minus.svg'
            : 'assets/icons/Minus_white.svg'
        "
        alt="zoom out" />
    </button>
  </div>
  <div class="map-controls">
    <button mat-icon-button class="map-button" (click)="setDrawMode('polygon')">
      <img
        [src]="
          theme === 'light'
            ? 'assets/icons/SpatialSearch.svg'
            : 'assets/icons/SpatialSearch_white.svg'
        "
        alt="draw polygon" />
    </button>
    <button mat-icon-button class="map-button" (click)="setDrawMode('delete')">
      <img
        [src]="
          theme === 'light'
            ? 'assets/icons/Trash.svg'
            : 'assets/icons/Trash_white.svg'
        "
        alt="delete polygon" />
    </button>
  </div>
  <div class="map-controls">
    <button
      mat-icon-button
      class="map-button"
      (click)="showLegend = !showLegend">
      <img
        [src]="
          theme === 'light'
            ? 'assets/icons/MapControls.svg'
            : 'assets/icons/MapControls_white.svg'
        "
        alt="open legend" />
    </button>
  </div>
  @if (showLegend) {
    <c477-legend></c477-legend>
  }
</div>
<div id="map"></div>
