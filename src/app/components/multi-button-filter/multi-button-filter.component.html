<div class="multi-select-filter">
  <h3>{{ title }}</h3>
  <mat-button-toggle-group
    class="filter-buttons"
    name="title"
    [attr.aria-label]="title"
    (change)="filterChange($event)"
    multiple>
    @for (option of options; track option) {
      <mat-button-toggle
        [ngClass]="{
          'filter-button--invalid':
            validOptions &&
            !validOptions.includes(option) &&
            !selectedValues?.includes(option),
          'filter-button--invalid-selected':
            validOptions &&
            !validOptions.includes(option) &&
            selectedValues?.includes(option)
        }"
        [value]="option"
        [checked]="selectedValues?.includes(option)"
        >{{ option | pascalCaseSpace }}</mat-button-toggle
      >
    }
  </mat-button-toggle-group>
</div>
