<div class="date-filter__container" [formGroup]="dateForm">
  <h3>YEAR OF ASSESSMENT</h3>
  <mat-checkbox (change)="range = !range">Select a year range</mat-checkbox>
  @if (!range) {
    <mat-form-field>
      <mat-label>Year of Assessment</mat-label>
      <input
        matInput
        [matDatepicker]="dp"
        formControlName="singleYear"
        aria-label="'Year of Assessment'" />
      <mat-hint>YYYY</mat-hint>
      <mat-datepicker-toggle matIconSuffix [for]="dp"></mat-datepicker-toggle>
      <mat-datepicker
        #dp
        startView="multi-year"
        (yearSelected)="setYear($event, dp)">
      </mat-datepicker>
    </mat-form-field>
  } @else {
    <mat-form-field>
      <mat-label>Enter a date range</mat-label>
      <mat-date-range-input [rangePicker]="picker">
        <input
          matStartDate
          placeholder="Start date"
          formControlName="startYear"
          aria-label="'Start date'" />
        <input
          matEndDate
          placeholder="End date"
          formControlName="endYear"
          aria-label="'End date'" />
      </mat-date-range-input>
      <mat-hint>YYYY â€“ YYYY</mat-hint>
      <mat-datepicker-toggle
        #dpToggle
        matIconSuffix
        [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker
        #picker
        startView="multi-year"
        (yearSelected)="setYear($event, picker)"></mat-date-range-picker>
    </mat-form-field>
  }
</div>
