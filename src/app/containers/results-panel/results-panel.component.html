@if (buildingSelection()) {
  <div class="panel results-panel">
    <section>
      <div class="results-panel__header">
        <p class="results-panel__number">
          {{ buildingSelection()?.length }} results in view
        </p>
        <mat-slide-toggle [color]="'primary'" [(ngModel)]="selectMultiple"
          >Select multiple</mat-slide-toggle
        >
      </div>
      <div class="results-panel__header">
        <button mat-flat-button disabled class="results-panel__button">
          <img src="assets/icons/FlagPennant.svg" alt="" /> Flag selected
        </button>
        <button
          mat-flat-button
          [color]="'primary'"
          class="results-panel__button">
          <img src="assets/icons/FileArrowDown_white.svg" alt="" />Download all
        </button>
      </div>
    </section>
    <section class="results-panel__cards-container">
      <cdk-virtual-scroll-viewport class="viewport" itemSize="200">
        <c477-results-card
          *cdkVirtualFor="
            let building of buildingSelection();
            templateCacheSize: 0
          "
          [buildingUPRN]="selectedCardUPRN()"
          (cardSelected)="cardSelected($event)"
          (emitViewDetails)="viewDetails($event)"
          [card]="building"
          [select]="selectMultiple"></c477-results-card>
      </cdk-virtual-scroll-viewport>
      <!-- @for (building of buildingSelection(); track building.UPRN) { -->
      <!-- @if (!card.dwellings) { -->
      <!-- <c477-results-card
          [buildingUPRN]="selectedCardUPRN()"
          (cardSelected)="cardSelected($event)"
          (emitViewDetails)="viewDetails($event)"
          [card]="building"
          [select]="selectMultiple"></c477-results-card> -->
      <!-- } @else { -->
      <!-- <c477-results-card-expandable
            [card]="card"
            [select]="selectMultiple"></c477-results-card-expandable> -->
      <!-- } -->
      <!-- } -->
    </section>
  </div>
}
