<arc-container fullscreen="true" theme="light">
  <arc-navbar
    slot="nav"
    logo="assets/iris_logo.svg"
    (arc-show-accessibility)="handleShowAccessibility($event)">
    <span slot="name">{{ title }}</span>
    <img slot="company-logo" alt="Company Logo" [src]="companyLogoSrc()" />
  </arc-navbar>

  <arc-accessibility
    #accessibility
    slot="accessibility"
    (arc-accessibility-change)="handleAccessibilityChange($event)">
    <div slot="options" class="accessibility__options">
      <div class="accessibility__label">
        <span>Colour Blind Mode</span>
      </div>
      <arc-switch
        #colorBlindSwitch
        (arc-change)="handleColorBlindSwitchChange($event)">
        Enable
      </arc-switch>
    </div>
  </arc-accessibility>

  <div class="content">
    @if (loading()) {
      <c477-loading-screen />
    }
    <c477-main-filters
      [filterProps]="filterProps"
      (setRouteParams)="setFilterParams($event)"
      (setAdvancedFilters)="setAdvancedFilters($event)"
      (addressSelected)="setSelectedBuildingTOID($event)"></c477-main-filters>

    <div class="panel-container">
      <c477-results-panel
        (flag)="onFlag($event)"
        (removeFlag)="onRemoveFlag($event)"></c477-results-panel>
    </div>
    <c477-details-panel
      (closePanel)="closeDetails()"
      (downloadData)="downloadData()"
      (flag)="onFlag($event)"
      (removeFlag)="onRemoveFlag($event)"></c477-details-panel>

    <div class="content__map-container">
      <c477-map
        [mapConfig]="mapConfig"
        (setRouteParams)="setRouteMapParams($event)"
        (deleteSpatialFilter)="deleteSpatialFilter()"
        (resetMapView)="resetMapView()"
        (zoomIn)="zoomIn()"
        (zoomOut)="zoomOut()"
        (setSearchArea)="setSearchArea($event)"
        (setSelectedBuildingTOID)="setSelectedBuildingTOID($event)"></c477-map>
    </div>
  </div>

  <arc-bottombar
    slot="bottom"
    (arc-show-accessibility)="handleShowAccessibility($event)">
  </arc-bottombar>
</arc-container>
